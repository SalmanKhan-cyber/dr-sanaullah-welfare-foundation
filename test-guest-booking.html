<!DOCTYPE html>
<html>
<head>
    <title>Test Guest Booking</title>
</head>
<body>
    <h1>Test Guest Booking</h1>
    <button onclick="testGuestBooking()">Test Guest Booking</button>
    <div id="result"></div>

    <script>
        async function testGuestBooking() {
            const testData = {
                doctor_id: 1, // Use a valid doctor ID
                appointment_date: "2026-02-04",
                appointment_time: "10:00",
                reason: "Test appointment",
                patient_details: {
                    name: "Test Guest Patient",
                    phone: "03001234567",
                    age: 30,
                    gender: "male",
                    cnic: "1234567890123",
                    history: "Test history"
                }
            };

            try {
                const response = await fetch('https://dr-sanaullah-welfare-foundation-production-d17f.up.railway.app/api/appointments/guest', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json'
                    },
                    body: JSON.stringify(testData)
                });

                const data = await response.json();
                
                document.getElementById('result').innerHTML = `
                    <h2>Response Status: ${response.status}</h2>
                    <h3>Response Data:</h3>
                    <pre>${JSON.stringify(data, null, 2)}</pre>
                `;
                
                console.log('Full response:', data);
            } catch (error) {
                document.getElementById('result').innerHTML = `
                    <h2>Error:</h2>
                    <pre>${error.message}</pre>
                `;
                console.error('Error:', error);
            }
        }
    </script>
</body>
</html>
